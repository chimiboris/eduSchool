<div class="col m-lg-2 ">
  
    <form  *ngIf="eleveForm" [formGroup]="eleveForm" (ngSubmit)="onSubmit()" >

        <div class="col-md-12 mb-2" *ngIf="eleve">
            <img [src]="eleve.picture" class="rounded-circle" width="150px" height="150px">
        </div>

        <mat-form-field class="col-md-3"> 
            <mat-label>Image</mat-label>
            <input id="picture" formControlName="picture" type="url" matInput>
                @if (eleveForm.get('picture')?.invalid && eleveForm.get('picture')?.touched && eleveForm.get('picture')?.errors?.['required']) {
                        <mat-error>L'image est <strong>obligatoire</strong></mat-error>
                }
        </mat-form-field>

        <div class="col-md-12">
            <div class="col-md-12 ">
                <h2><i class="fa-solid fa-circle-info blue-color"></i>&nbsp;{{pageTitle}}</h2>
            </div>
    
            
                <div class="col-md-12">
                    <div class="row">
                        <mat-form-field class="col-md-3"> 
                            <mat-label>Matricule</mat-label>
                            <input id="matricule" formControlName="matricule" matInput>
                                @if (eleveForm.get('matricule')?.invalid && eleveForm.get('matricule')?.touched && eleveForm.get('matricule')?.errors?.['required']) {
                                        <mat-error>Le matricule est <strong>obligatoire</strong></mat-error>
                                }
                                <!-- <div *ngIf="eleveForm.get('matricule')?.invalid && eleveForm.get('matricule')?.touched">
                                    <small *ngIf="eleveForm.get('matricule')?.errors?.['required']">Name is required.</small>
                                    <small *ngIf="eleveForm.get('matricule')?.errors?.['minlength']">Name must be at least 3 characters long.</small>
                                </div>                                        -->
                        </mat-form-field>
                        <mat-form-field class="col-md-3">
                            <mat-label>Nom</mat-label>
                            <input id="nom" formControlName="nom" matInput>
                            @if (eleveForm.get('nom')?.invalid && eleveForm.get('nom')?.touched && eleveForm.get('nom')?.errors?.['required']) {
                                <mat-error>Le nom est <strong>obligatoire</strong></mat-error>
                            }
                            @if (eleveForm.get('nom')?.invalid && eleveForm.get('nom')?.touched && eleveForm.get('nom')?.errors?.['minlength']) {
                                <mat-error>Le nom doit avoir au minimum 3 caractères</mat-error>
                            }
                            @if (eleveForm.get('nom')?.invalid && eleveForm.get('nom')?.touched && eleveForm.get('nom')?.errors?.['maxlength']) {
                                <mat-error>Le nom doit avoir au maximumn 50 caractères</mat-error>
                            }
                        </mat-form-field>
                        <mat-form-field class="col-md-3">
                            <mat-label>Prénom</mat-label>
                            <input id="prenom" formControlName="prenom" matInput>
                        </mat-form-field>
        
                        <mat-form-field class="col-md-3">
                            <mat-label>Adresse email</mat-label>
                                <input matInput
                                    placeholder="pat@example.com"
                                    id="email" formControlName="email"
                                    required>
                                    @if (email1.hasError('email') && !email1.hasError('required')) {
                                        <mat-error>Veuillez entrer une adresse email valide</mat-error>
                                      }
                                      @if (email1.hasError('required')) {
                                        <mat-error>Email <strong>obligatoire</strong></mat-error>
                                      }
                            </mat-form-field>  
                    </div>
        
                    <div class="row">
                        <mat-form-field class="col-md-2">
                            <mat-label>Sexe</mat-label>
                            <mat-select formControlName="sexe" required>
                              <!-- <mat-option>--</mat-option> -->
                              @for (sexe of sexes; track sexe) {
                                <mat-option [value]="sexe.value">{{sexe.viewValue}}</mat-option>
                              }
                            </mat-select>
                            @if (sexeControl.hasError('required')) {
                              <mat-error>Sexe <strong>obligatoire</strong></mat-error>
                            }
                            <mat-hint>{{sexeControl.value?.viewValue}}</mat-hint>
                        </mat-form-field>

                        <mat-form-field class="col-md-3">
                            <mat-label>Date de naissance</mat-label>
                            <input id="dateNaissance" formControlName="dateNaissance" matInput [matDatepicker]="picker">
                            <mat-hint>MM/DD/YYYY</mat-hint>
                            @if (eleveForm.get('dateNaissance')?.invalid && eleveForm.get('dateNaissance')?.touched && eleveForm.get('dateNaissance')?.errors?.['required']) {
                                <mat-error>La date de naissance est <strong>obligatoire</strong></mat-error>
                            }
                            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker [dateClass]="dateClass" #picker></mat-datepicker>
                        </mat-form-field>
        
                        <mat-form-field class="col-md-4">
                            <mat-label>Lieu de naissance</mat-label>
                            <input id="lieuNaissance" formControlName="lieuNaissance" matInput>
                            @if (eleveForm.get('lieuNaissance')?.invalid && eleveForm.get('lieuNaissance')?.touched && eleveForm.get('lieuNaissance')?.errors?.['required']) {
                                <mat-error>Lieu de naissance est <strong>obligatoire</strong></mat-error>
                            }
                            @if (eleveForm.get('lieuNaissance')?.invalid && eleveForm.get('lieuNaissance')?.touched && eleveForm.get('lieuNaissance')?.errors?.['minlength']) {
                                <mat-error>Le lieu de naissance doit avoir au minimum 3 caractères</mat-error>
                            }
                            @if (eleveForm.get('lieuNaissance')?.invalid && eleveForm.get('lieuNaissance')?.touched && eleveForm.get('lieuNaissance')?.errors?.['maxlength']) {
                                <mat-error>Le lieu de naissance doit avoir au maximum 50 caractères</mat-error>
                            }
                        </mat-form-field>
        
                        <mat-form-field class="col-md-3">
                            <mat-label>Niveau</mat-label>
                            <input id="niveau" formControlName="niveau" matInput>
                            @if (eleveForm.get('niveau')?.invalid && eleveForm.get('niveau')?.touched && eleveForm.get('niveau')?.errors?.['required']) {
                                <mat-error>Le niveau est <strong>obligatoire</strong></mat-error>
                            }
                            @if (eleveForm.get('niveau')?.invalid && eleveForm.get('niveau')?.touched && eleveForm.get('niveau')?.errors?.['minlength']) {
                                <mat-error>Le niveau doit avoir au minimum 3 caractères</mat-error>
                            }
                            @if (eleveForm.get('niveau')?.invalid && eleveForm.get('niveau')?.touched && eleveForm.get('niveau')?.errors?.['maxlength']) {
                                <mat-error>Le niveau doit avoir au maximum 50 caractères</mat-error>
                            }
                        </mat-form-field>
                    </div>
        
                    <div class="row">
        
                        <mat-form-field class="col-md-2">
                            <mat-label>Classe</mat-label>
                            <input id="classe" formControlName="classe" matInput>
                            @if (eleveForm.get('classe')?.invalid && eleveForm.get('classe')?.touched && eleveForm.get('classe')?.errors?.['required']) {
                                <mat-error>La classe est <strong>obligatoire</strong></mat-error>
                            }
                            @if (eleveForm.get('classe')?.invalid && eleveForm.get('classe')?.touched && eleveForm.get('classe')?.errors?.['minlength']) {
                                <mat-error>Minimum 3 caractères</mat-error>
                            }
                            @if (eleveForm.get('classe')?.invalid && eleveForm.get('classe')?.touched && eleveForm.get('classe')?.errors?.['maxlength']) {
                                <mat-error>Maximum 50 caractères</mat-error>
                            }
                        </mat-form-field>
        
                        <mat-form-field class="col-md-2">
                            <mat-label>Spécialité</mat-label>
                            <input id="specialite" formControlName="specialite" matInput>
                            @if (eleveForm.get('specialite')?.invalid && eleveForm.get('specialite')?.touched && eleveForm.get('specialite')?.errors?.['required']) {
                                <mat-error>La spécialité est <strong>obligatoire</strong></mat-error>
                            }
                            @if (eleveForm.get('specialite')?.invalid && eleveForm.get('specialite')?.touched && eleveForm.get('specialite')?.errors?.['minlength']) {
                                <mat-error>Minimum 3 caractères</mat-error>
                            }
                            @if (eleveForm.get('specialite')?.invalid && eleveForm.get('specialite')?.touched && eleveForm.get('specialite')?.errors?.['maxlength']) {
                                <mat-error>Maximum 50 caractères</mat-error>
                            }
                        </mat-form-field>

                        <mat-form-field class="col-md-2">
                            <mat-label>Section</mat-label>
                            <mat-select formControlName="section" required>
                              <!-- <mat-option>--</mat-option> -->
                              @for (section of sections; track section) {
                                <mat-option [value]="section.value">{{section.viewValue}}</mat-option>
                              }
                            </mat-select>
                            @if (sectionControl.hasError('required')) {
                              <mat-error>Section <strong>obligatoire</strong></mat-error>
                            }
                            <mat-hint>{{sectionControl.value?.viewValue}}</mat-hint>
                        </mat-form-field>

                        <mat-form-field class="col-md-2">
                            <mat-label>Type d'enseignement</mat-label>
                            <mat-select formControlName="typeEnseignement" required>
                              <!-- <mat-option>--</mat-option> -->
                              @for (typeEnseignement of typeEnseignements; track typeEnseignement) {
                                <mat-option [value]="typeEnseignement.value">{{typeEnseignement.viewValue}}</mat-option>
                              }
                            </mat-select>
                            @if (typeEnseignementControl.hasError('required')) {
                              <mat-error>Type <strong>obligatoire</strong></mat-error>
                            }
                            <mat-hint>{{typeEnseignementControl.value?.viewValue}}</mat-hint>
                        </mat-form-field>

                        <mat-form-field class="col-md-2">
                            <mat-label>Enseignement</mat-label>
                            <mat-select formControlName="natureEnseignement" required>
                              <!-- <mat-option>--</mat-option> -->
                              @for (natureEnseignement of natureEnseignements; track natureEnseignement) {
                                <mat-option [value]="natureEnseignement.value">{{natureEnseignement.viewValue}}</mat-option>
                              }
                            </mat-select>
                            @if (natureEnseignementControl.hasError('required')) {
                              <mat-error>Nature <strong>obligatoire</strong></mat-error>
                            }
                            <mat-hint>{{natureEnseignementControl.value?.viewValue}}</mat-hint>
                        </mat-form-field>

                        <mat-form-field class="col-md-2">
                            <mat-label>Cycle</mat-label>
                            <mat-select formControlName="cycle" required>
                              <!-- <mat-option>--</mat-option> -->
                              @for (cycle of cycles; track cycle) {
                                <mat-option [value]="cycle.value">{{cycle.viewValue}}</mat-option>
                              }
                            </mat-select>
                            @if (cycleControl.hasError('required')) {
                              <mat-error>Nature <strong>obligatoire</strong></mat-error>
                            }
                            <mat-hint>{{cycleControl.value?.viewValue}}</mat-hint>
                        </mat-form-field>

                    </div>
        
                    <div class="row">
        
                        <mat-form-field class="col-md-3">
                            <mat-label>Téléphone</mat-label>
                            <input id="telephone" formControlName="telephone" matInput>
                            @if (eleveForm.get('telephone')?.invalid && eleveForm.get('telephone')?.touched && eleveForm.get('telephone')?.errors?.['required']) {
                                <mat-error>Le numéro de téléphone est <strong>obligatoire</strong></mat-error>
                            }
                            @if (eleveForm.get('telephone')?.invalid && eleveForm.get('telephone')?.touched && eleveForm.get('telephone')?.errors?.['minlength']) {
                                <mat-error>Le numéro doit contenir au minimum 3 caractères</mat-error>
                            }
                            @if (eleveForm.get('telephone')?.invalid && eleveForm.get('telephone')?.touched && eleveForm.get('telephone')?.errors?.['maxlength']) {
                                <mat-error>Le numéro doit contenir au maximum 50 caractères</mat-error>
                            }
                        </mat-form-field>
        
                        <mat-form-field class="col-md-3">
                            <mat-label>Adresse</mat-label>
                            <input id="adresse" formControlName="adresse" matInput>
                            @if (eleveForm.get('adresse')?.invalid && eleveForm.get('adresse')?.touched && eleveForm.get('adresse')?.errors?.['required']) {
                                <mat-error>L'adresse est <strong>obligatoire</strong></mat-error>
                            }
                            @if (eleveForm.get('adresse')?.invalid && eleveForm.get('adresse')?.touched && eleveForm.get('adresse')?.errors?.['minlength']) {
                                <mat-error>L'adresse doit contenir au minimum 3 caractères</mat-error>
                            }
                            @if (eleveForm.get('adresse')?.invalid && eleveForm.get('adresse')?.touched && eleveForm.get('adresse')?.errors?.['maxlength']) {
                                <mat-error>L'adresse doit contenir au maximum 50 caractères</mat-error>
                            }
                        </mat-form-field>
        
                        <mat-form-field class="col-md-3">
                            <mat-label>Ville</mat-label>
                            <input id="ville" formControlName="ville" matInput>
                            @if (eleveForm.get('ville')?.invalid && eleveForm.get('ville')?.touched && eleveForm.get('ville')?.errors?.['required']) {
                                <mat-error>La ville est <strong>obligatoire</strong></mat-error>
                            }
                            @if (eleveForm.get('ville')?.invalid && eleveForm.get('ville')?.touched && eleveForm.get('ville')?.errors?.['minlength']) {
                                <mat-error>La ville doit contenir au minimum 3 caractères</mat-error>
                            }
                            @if (eleveForm.get('ville')?.invalid && eleveForm.get('ville')?.touched && eleveForm.get('ville')?.errors?.['maxlength']) {
                                <mat-error>La ville doit contenir au maximum 50 caractères</mat-error>
                            }
                        </mat-form-field>
        
                        <mat-form-field class="col-md-3">
                            <mat-label>Nationalité</mat-label>
                            <input id="nationalite" formControlName="nationalite" matInput>
                            @if (eleveForm.get('nationalite')?.invalid && eleveForm.get('nationalite')?.touched && eleveForm.get('nationalite')?.errors?.['required']) {
                                <mat-error>La nationalité est <strong>obligatoire</strong></mat-error>
                            }
                            @if (eleveForm.get('nationalite')?.invalid && eleveForm.get('nationalite')?.touched && eleveForm.get('nationalite')?.errors?.['minlength']) {
                                <mat-error>La nationalité doit contenir au minimum 3 caractères</mat-error>
                            }
                            @if (eleveForm.get('nationalite')?.invalid && eleveForm.get('nationalite')?.touched && eleveForm.get('nationalite')?.errors?.['maxlength']) {
                                <mat-error>La nationalité doit contenir au maximum 50 caractères</mat-error>
                            }
                        </mat-form-field>
                    </div>
        
                    <div class="row">
        
                        <mat-form-field class="col-md-6">
                            <mat-label>Nom du père</mat-label>
                            <input id="nomDuPere" formControlName="nomDuPere" matInput>
                            @if (eleveForm.get('nomDuPere')?.invalid && eleveForm.get('nomDuPere')?.touched && eleveForm.get('nomDuPere')?.errors?.['required']) {
                                <mat-error>Le nom du père est <strong>obligatoire</strong></mat-error>
                            }
                            @if (eleveForm.get('nomDuPere')?.invalid && eleveForm.get('nomDuPere')?.touched && eleveForm.get('nomDuPere')?.errors?.['minlength']) {
                                <mat-error>Le nom du père doit contenir au minimum 3 caractères</mat-error>
                            }
                            @if (eleveForm.get('nomDuPere')?.invalid && eleveForm.get('nomDuPere')?.touched && eleveForm.get('nomDuPere')?.errors?.['maxlength']) {
                                <mat-error>Le nom du père doit contenir au maximum 50 caractères</mat-error>
                            }
                        </mat-form-field>
        
                        <mat-form-field class="col-md-6">
                            <mat-label>Nom de la mère</mat-label>
                            <input id="nomDeLaMere" formControlName="nomDeLaMere" matInput>
                            @if (eleveForm.get('nomDeLaMere')?.invalid && eleveForm.get('nomDeLaMere')?.touched && eleveForm.get('nomDeLaMere')?.errors?.['required']) {
                                <mat-error>Le nom de la mère est <strong>obligatoire</strong></mat-error>
                            }
                            @if (eleveForm.get('nomDeLaMere')?.invalid && eleveForm.get('nomDeLaMere')?.touched && eleveForm.get('nomDeLaMere')?.errors?.['minlength']) {
                                <mat-error>Le nom de la mère doit contenir au minimum 3 caractères</mat-error>
                            }
                            @if (eleveForm.get('nomDeLaMere')?.invalid && eleveForm.get('nomDeLaMere')?.touched && eleveForm.get('nomDeLaMere')?.errors?.['maxlength']) {
                                <mat-error>Le nom de la mère doit contenir au maximum 50 caractères</mat-error>
                            }
                        </mat-form-field>
        
                    </div>
                    
                </div>
            </div>
        
            <div class="col-md-12 text-end ">
                <button class="btn btn-danger" (click)="cancel()">
                    <i class="fa-solid fa-ban"></i>&nbsp;
                    Annuler
                </button>
        
                <button class="btn btn-primary m-lg-3" 
                    type="submit" 
                    
                    >
                    <i class="fa-solid fa-floppy-disk"></i>&nbsp;
                    Enregistrer
                </button>
            </div>

    </form>
        
</div>
 
  